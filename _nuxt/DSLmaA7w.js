import{d as z,v as F,ao as k,at as L,ar as M,B as c,e as l,E as e,w as o,as as R,ap as U,aq as H,au as I,i as r,f as a,g as i,c as W,F as X,X as Y,W as Z,Z as j,a4 as G,D as C,t as w,an as J,av as K,V as O,aw as Q}from"./B6q1z3vV.js";import{_ as tt,a as et}from"./BVOtDB-c.js";import{_ as nt,a as ot,b as at}from"./BMBOuw3b.js";import"./C2bHYaEW.js";const st={class:"text-(--ui-text-muted)"},rt={class:"flex flex-wrap items-center gap-3 mt-4"},mt=z({__name:"[slug]",async setup(_t){var f;let n,_;const u=F(),{data:t}=([n,_]=k(()=>U(u.path,()=>H("posts").path(u.path).first(),"$n6r2E9lutY")),n=await n,_(),n);if(!t.value)throw L({statusCode:404,statusMessage:"Post not found",fatal:!0});const{data:p}=([n,_]=k(()=>U(`${u.path}-surround`,()=>I("posts",u.path,{fields:["description"]}))),n=await n,_(),n),m=t.value.title,d=t.value.description;return M({title:m,ogTitle:m,description:d,ogDescription:d}),(f=t.value.image)!=null&&f.src,(ut,g)=>{const B=J,b=G,S=Z,D=tt,A=nt,P=Q,V=ot,E=et,N=at,$=K,q=R;return e(t)?(r(),c(q,{key:0},{default:o(()=>{var x,v,y,h;return[a(D,{title:e(t).title,description:e(t).description},{headline:o(()=>[a(B,C(e(t).badge,{variant:"subtle"}),null,16),g[0]||(g[0]=i("span",{class:"text-(--ui-text-muted)"},"Â·",-1)),i("time",st,w(new Date(e(t).date).toLocaleDateString("en",{year:"numeric",month:"short",day:"numeric"})),1)]),default:o(()=>[i("div",rt,[(r(!0),W(X,null,Y(e(t).authors,(s,T)=>(r(),c(S,{key:T,to:s.to,color:"neutral",variant:"subtle",target:"_blank",size:"sm"},{default:o(()=>[a(b,C({ref_for:!0},s.avatar,{alt:"Author avatar",size:"2xs"}),null,16),j(" "+w(s.name),1)]),_:2},1032,["to"]))),128))])]),_:1},8,["title","description"]),a($,null,O({default:o(()=>[a(E,null,{default:o(()=>{var s;return[e(t)?(r(),c(A,{key:0,value:e(t)},null,8,["value"])):l("",!0),(s=e(p))!=null&&s.length?(r(),c(P,{key:1})):l("",!0),a(V,{surround:e(p)},null,8,["surround"])]}),_:1})]),_:2},[(h=(y=(v=(x=e(t))==null?void 0:x.body)==null?void 0:v.toc)==null?void 0:y.links)!=null&&h.length?{name:"right",fn:o(()=>[a(N,{links:e(t).body.toc.links},null,8,["links"])]),key:"0"}:void 0]),1024)]}),_:1})):l("",!0)}}});export{mt as default};
