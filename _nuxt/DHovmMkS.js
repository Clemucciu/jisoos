import{d as be,B as k,i as F,w as $,C as G,D as K,E as p,P as qe,r as Oe,G as Be,H as N,I as Y,J as ge,K as Re,L as Ke,M as et,z as Ne,N as tt,O as Me,Q as st,R as Fe,S as ze,f as W,U as nt,V as je,e as q,W as it,c as V,F as ce,X as oe,n as L,Y as ie,Z as _e,t as he,$ as rt,a0 as at,a1 as ot,a2 as ut,g as de,a3 as re,a4 as lt,a5 as ct,a6 as He,a7 as ht,a8 as dt,a9 as ft,aa as gt,ab as pt,ac as Ie,ad as mt,ae as At,af as yt,ag as vt}from"./B6q1z3vV.js";import{U as Ct}from"./YHSuagtB.js";import{i as bt,_ as xt,a as Et,b as Bt,c as Mt,d as Ft,e as _t}from"./BfBiXDWe.js";import{u as It}from"./Doeidwxj.js";import"./y1qtJ0Us.js";import"./Dq1ML9a9.js";const St=be({__name:"ListboxGroupLabel",props:{for:{},asChild:{type:Boolean},as:{default:"div"}},setup(s){const e=s,t=bt({id:""});return(n,i)=>(F(),k(p(qe),K(e,{id:p(t).id}),{default:$(()=>[G(n.$slots,"default")]),_:3},16,["id"]))}});function z(s){return Array.isArray?Array.isArray(s):We(s)==="[object Array]"}function Lt(s){if(typeof s=="string")return s;let e=s+"";return e=="0"&&1/s==-1/0?"-0":e}function Dt(s){return s==null?"":Lt(s)}function R(s){return typeof s=="string"}function Ue(s){return typeof s=="number"}function kt(s){return s===!0||s===!1||$t(s)&&We(s)=="[object Boolean]"}function Ve(s){return typeof s=="object"}function $t(s){return Ve(s)&&s!==null}function w(s){return s!=null}function fe(s){return!s.trim().length}function We(s){return s==null?s===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(s)}const wt="Incorrect 'index' type",Tt=s=>`Invalid value for key ${s}`,Pt=s=>`Pattern length exceeds max of ${s}.`,Ot=s=>`Missing ${s} property in key`,Rt=s=>`Property 'weight' in key '${s}' must be a positive integer`,Se=Object.prototype.hasOwnProperty;class Kt{constructor(e){this._keys=[],this._keyMap={};let t=0;e.forEach(n=>{let i=Ge(n);this._keys.push(i),this._keyMap[i.id]=i,t+=i.weight}),this._keys.forEach(n=>{n.weight/=t})}get(e){return this._keyMap[e]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function Ge(s){let e=null,t=null,n=null,i=1,r=null;if(R(s)||z(s))n=s,e=Le(s),t=pe(s);else{if(!Se.call(s,"name"))throw new Error(Ot("name"));const a=s.name;if(n=a,Se.call(s,"weight")&&(i=s.weight,i<=0))throw new Error(Rt(a));e=Le(a),t=pe(a),r=s.getFn}return{path:e,id:t,weight:i,src:n,getFn:r}}function Le(s){return z(s)?s:s.split(".")}function pe(s){return z(s)?s.join("."):s}function Nt(s,e){let t=[],n=!1;const i=(r,a,l)=>{if(w(r))if(!a[l])t.push(r);else{let c=a[l];const u=r[c];if(!w(u))return;if(l===a.length-1&&(R(u)||Ue(u)||kt(u)))t.push(Dt(u));else if(z(u)){n=!0;for(let o=0,d=u.length;o<d;o+=1)i(u[o],a,l+1)}else a.length&&i(u,a,l+1)}};return i(s,R(e)?e.split("."):e,0),n?t:t[0]}const zt={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},jt={isCaseSensitive:!1,ignoreDiacritics:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(s,e)=>s.score===e.score?s.idx<e.idx?-1:1:s.score<e.score?-1:1},Ht={location:0,threshold:.6,distance:100},Ut={useExtendedSearch:!1,getFn:Nt,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var A={...jt,...zt,...Ht,...Ut};const Vt=/[^ ]+/g;function Wt(s=1,e=3){const t=new Map,n=Math.pow(10,e);return{get(i){const r=i.match(Vt).length;if(t.has(r))return t.get(r);const a=1/Math.pow(r,.5*s),l=parseFloat(Math.round(a*n)/n);return t.set(r,l),l},clear(){t.clear()}}}class xe{constructor({getFn:e=A.getFn,fieldNormWeight:t=A.fieldNormWeight}={}){this.norm=Wt(t,3),this.getFn=e,this.isCreated=!1,this.setIndexRecords()}setSources(e=[]){this.docs=e}setIndexRecords(e=[]){this.records=e}setKeys(e=[]){this.keys=e,this._keysMap={},e.forEach((t,n)=>{this._keysMap[t.id]=n})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,R(this.docs[0])?this.docs.forEach((e,t)=>{this._addString(e,t)}):this.docs.forEach((e,t)=>{this._addObject(e,t)}),this.norm.clear())}add(e){const t=this.size();R(e)?this._addString(e,t):this._addObject(e,t)}removeAt(e){this.records.splice(e,1);for(let t=e,n=this.size();t<n;t+=1)this.records[t].i-=1}getValueForItemAtKeyId(e,t){return e[this._keysMap[t]]}size(){return this.records.length}_addString(e,t){if(!w(e)||fe(e))return;let n={v:e,i:t,n:this.norm.get(e)};this.records.push(n)}_addObject(e,t){let n={i:t,$:{}};this.keys.forEach((i,r)=>{let a=i.getFn?i.getFn(e):this.getFn(e,i.path);if(w(a)){if(z(a)){let l=[];const c=[{nestedArrIndex:-1,value:a}];for(;c.length;){const{nestedArrIndex:u,value:o}=c.pop();if(w(o))if(R(o)&&!fe(o)){let d={v:o,i:u,n:this.norm.get(o)};l.push(d)}else z(o)&&o.forEach((d,f)=>{c.push({nestedArrIndex:f,value:d})})}n.$[r]=l}else if(R(a)&&!fe(a)){let l={v:a,n:this.norm.get(a)};n.$[r]=l}}}),this.records.push(n)}toJSON(){return{keys:this.keys,records:this.records}}}function Ye(s,e,{getFn:t=A.getFn,fieldNormWeight:n=A.fieldNormWeight}={}){const i=new xe({getFn:t,fieldNormWeight:n});return i.setKeys(s.map(Ge)),i.setSources(e),i.create(),i}function Gt(s,{getFn:e=A.getFn,fieldNormWeight:t=A.fieldNormWeight}={}){const{keys:n,records:i}=s,r=new xe({getFn:e,fieldNormWeight:t});return r.setKeys(n),r.setIndexRecords(i),r}function ae(s,{errors:e=0,currentLocation:t=0,expectedLocation:n=0,distance:i=A.distance,ignoreLocation:r=A.ignoreLocation}={}){const a=e/s.length;if(r)return a;const l=Math.abs(n-t);return i?a+l/i:l?1:a}function Yt(s=[],e=A.minMatchCharLength){let t=[],n=-1,i=-1,r=0;for(let a=s.length;r<a;r+=1){let l=s[r];l&&n===-1?n=r:!l&&n!==-1&&(i=r-1,i-n+1>=e&&t.push([n,i]),n=-1)}return s[r-1]&&r-n>=e&&t.push([n,r-1]),t}const X=32;function Qt(s,e,t,{location:n=A.location,distance:i=A.distance,threshold:r=A.threshold,findAllMatches:a=A.findAllMatches,minMatchCharLength:l=A.minMatchCharLength,includeMatches:c=A.includeMatches,ignoreLocation:u=A.ignoreLocation}={}){if(e.length>X)throw new Error(Pt(X));const o=e.length,d=s.length,f=Math.max(0,Math.min(n,d));let y=r,E=f;const M=l>1||c,h=M?Array(d):[];let g;for(;(g=s.indexOf(e,E))>-1;){let C=ae(e,{currentLocation:g,expectedLocation:f,distance:i,ignoreLocation:u});if(y=Math.min(C,y),E=g+o,M){let _=0;for(;_<o;)h[g+_]=1,_+=1}}E=-1;let v=[],x=1,B=o+d;const I=1<<o-1;for(let C=0;C<o;C+=1){let _=0,S=B;for(;_<S;)ae(e,{errors:C,currentLocation:f+S,expectedLocation:f,distance:i,ignoreLocation:u})<=y?_=S:B=S,S=Math.floor((B-_)/2+_);B=S;let O=Math.max(1,f-S+1),m=a?d:Math.min(f+S,d)+o,T=Array(m+2);T[m+1]=(1<<C)-1;for(let D=m;D>=O;D-=1){let J=D-1,te=t[s.charAt(J)];if(M&&(h[J]=+!!te),T[D]=(T[D+1]<<1|1)&te,C&&(T[D]|=(v[D+1]|v[D])<<1|1|v[D+1]),T[D]&I&&(x=ae(e,{errors:C,currentLocation:J,expectedLocation:f,distance:i,ignoreLocation:u}),x<=y)){if(y=x,E=J,E<=f)break;O=Math.max(1,2*f-E)}}if(ae(e,{errors:C+1,currentLocation:f,expectedLocation:f,distance:i,ignoreLocation:u})>y)break;v=T}const b={isMatch:E>=0,score:Math.max(.001,x)};if(M){const C=Yt(h,l);C.length?c&&(b.indices=C):b.isMatch=!1}return b}function Jt(s){let e={};for(let t=0,n=s.length;t<n;t+=1){const i=s.charAt(t);e[i]=(e[i]||0)|1<<n-t-1}return e}const ue=String.prototype.normalize?s=>s.normalize("NFD").replace(/[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F]/g,""):s=>s;class Qe{constructor(e,{location:t=A.location,threshold:n=A.threshold,distance:i=A.distance,includeMatches:r=A.includeMatches,findAllMatches:a=A.findAllMatches,minMatchCharLength:l=A.minMatchCharLength,isCaseSensitive:c=A.isCaseSensitive,ignoreDiacritics:u=A.ignoreDiacritics,ignoreLocation:o=A.ignoreLocation}={}){if(this.options={location:t,threshold:n,distance:i,includeMatches:r,findAllMatches:a,minMatchCharLength:l,isCaseSensitive:c,ignoreDiacritics:u,ignoreLocation:o},e=c?e:e.toLowerCase(),e=u?ue(e):e,this.pattern=e,this.chunks=[],!this.pattern.length)return;const d=(y,E)=>{this.chunks.push({pattern:y,alphabet:Jt(y),startIndex:E})},f=this.pattern.length;if(f>X){let y=0;const E=f%X,M=f-E;for(;y<M;)d(this.pattern.substr(y,X),y),y+=X;if(E){const h=f-X;d(this.pattern.substr(h),h)}}else d(this.pattern,0)}searchIn(e){const{isCaseSensitive:t,ignoreDiacritics:n,includeMatches:i}=this.options;if(e=t?e:e.toLowerCase(),e=n?ue(e):e,this.pattern===e){let M={isMatch:!0,score:0};return i&&(M.indices=[[0,e.length-1]]),M}const{location:r,distance:a,threshold:l,findAllMatches:c,minMatchCharLength:u,ignoreLocation:o}=this.options;let d=[],f=0,y=!1;this.chunks.forEach(({pattern:M,alphabet:h,startIndex:g})=>{const{isMatch:v,score:x,indices:B}=Qt(e,M,h,{location:r+g,distance:a,threshold:l,findAllMatches:c,minMatchCharLength:u,includeMatches:i,ignoreLocation:o});v&&(y=!0),f+=x,v&&B&&(d=[...d,...B])});let E={isMatch:y,score:y?f/this.chunks.length:1};return y&&i&&(E.indices=d),E}}class Q{constructor(e){this.pattern=e}static isMultiMatch(e){return De(e,this.multiRegex)}static isSingleMatch(e){return De(e,this.singleRegex)}search(){}}function De(s,e){const t=s.match(e);return t?t[1]:null}class Xt extends Q{constructor(e){super(e)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(e){const t=e===this.pattern;return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}}class Zt extends Q{constructor(e){super(e)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(e){const n=e.indexOf(this.pattern)===-1;return{isMatch:n,score:n?0:1,indices:[0,e.length-1]}}}class qt extends Q{constructor(e){super(e)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(e){const t=e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}}class es extends Q{constructor(e){super(e)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(e){const t=!e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}}class ts extends Q{constructor(e){super(e)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(e){const t=e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[e.length-this.pattern.length,e.length-1]}}}class ss extends Q{constructor(e){super(e)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(e){const t=!e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}}class Je extends Q{constructor(e,{location:t=A.location,threshold:n=A.threshold,distance:i=A.distance,includeMatches:r=A.includeMatches,findAllMatches:a=A.findAllMatches,minMatchCharLength:l=A.minMatchCharLength,isCaseSensitive:c=A.isCaseSensitive,ignoreDiacritics:u=A.ignoreDiacritics,ignoreLocation:o=A.ignoreLocation}={}){super(e),this._bitapSearch=new Qe(e,{location:t,threshold:n,distance:i,includeMatches:r,findAllMatches:a,minMatchCharLength:l,isCaseSensitive:c,ignoreDiacritics:u,ignoreLocation:o})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(e){return this._bitapSearch.searchIn(e)}}class Xe extends Q{constructor(e){super(e)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(e){let t=0,n;const i=[],r=this.pattern.length;for(;(n=e.indexOf(this.pattern,t))>-1;)t=n+r,i.push([n,t-1]);const a=!!i.length;return{isMatch:a,score:a?0:1,indices:i}}}const me=[Xt,Xe,qt,es,ss,ts,Zt,Je],ke=me.length,ns=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,is="|";function rs(s,e={}){return s.split(is).map(t=>{let n=t.trim().split(ns).filter(r=>r&&!!r.trim()),i=[];for(let r=0,a=n.length;r<a;r+=1){const l=n[r];let c=!1,u=-1;for(;!c&&++u<ke;){const o=me[u];let d=o.isMultiMatch(l);d&&(i.push(new o(d,e)),c=!0)}if(!c)for(u=-1;++u<ke;){const o=me[u];let d=o.isSingleMatch(l);if(d){i.push(new o(d,e));break}}}return i})}const as=new Set([Je.type,Xe.type]);class os{constructor(e,{isCaseSensitive:t=A.isCaseSensitive,ignoreDiacritics:n=A.ignoreDiacritics,includeMatches:i=A.includeMatches,minMatchCharLength:r=A.minMatchCharLength,ignoreLocation:a=A.ignoreLocation,findAllMatches:l=A.findAllMatches,location:c=A.location,threshold:u=A.threshold,distance:o=A.distance}={}){this.query=null,this.options={isCaseSensitive:t,ignoreDiacritics:n,includeMatches:i,minMatchCharLength:r,findAllMatches:l,ignoreLocation:a,location:c,threshold:u,distance:o},e=t?e:e.toLowerCase(),e=n?ue(e):e,this.pattern=e,this.query=rs(this.pattern,this.options)}static condition(e,t){return t.useExtendedSearch}searchIn(e){const t=this.query;if(!t)return{isMatch:!1,score:1};const{includeMatches:n,isCaseSensitive:i,ignoreDiacritics:r}=this.options;e=i?e:e.toLowerCase(),e=r?ue(e):e;let a=0,l=[],c=0;for(let u=0,o=t.length;u<o;u+=1){const d=t[u];l.length=0,a=0;for(let f=0,y=d.length;f<y;f+=1){const E=d[f],{isMatch:M,indices:h,score:g}=E.search(e);if(M){if(a+=1,c+=g,n){const v=E.constructor.type;as.has(v)?l=[...l,...h]:l.push(h)}}else{c=0,a=0,l.length=0;break}}if(a){let f={isMatch:!0,score:c/a};return n&&(f.indices=l),f}}return{isMatch:!1,score:1}}}const Ae=[];function us(...s){Ae.push(...s)}function ye(s,e){for(let t=0,n=Ae.length;t<n;t+=1){let i=Ae[t];if(i.condition(s,e))return new i(s,e)}return new Qe(s,e)}const le={AND:"$and",OR:"$or"},ve={PATH:"$path",PATTERN:"$val"},Ce=s=>!!(s[le.AND]||s[le.OR]),ls=s=>!!s[ve.PATH],cs=s=>!z(s)&&Ve(s)&&!Ce(s),$e=s=>({[le.AND]:Object.keys(s).map(e=>({[e]:s[e]}))});function Ze(s,e,{auto:t=!0}={}){const n=i=>{let r=Object.keys(i);const a=ls(i);if(!a&&r.length>1&&!Ce(i))return n($e(i));if(cs(i)){const c=a?i[ve.PATH]:r[0],u=a?i[ve.PATTERN]:i[c];if(!R(u))throw new Error(Tt(c));const o={keyId:pe(c),pattern:u};return t&&(o.searcher=ye(u,e)),o}let l={children:[],operator:r[0]};return r.forEach(c=>{const u=i[c];z(u)&&u.forEach(o=>{l.children.push(n(o))})}),l};return Ce(s)||(s=$e(s)),n(s)}function hs(s,{ignoreFieldNorm:e=A.ignoreFieldNorm}){s.forEach(t=>{let n=1;t.matches.forEach(({key:i,norm:r,score:a})=>{const l=i?i.weight:null;n*=Math.pow(a===0&&l?Number.EPSILON:a,(l||1)*(e?1:r))}),t.score=n})}function ds(s,e){const t=s.matches;e.matches=[],w(t)&&t.forEach(n=>{if(!w(n.indices)||!n.indices.length)return;const{indices:i,value:r}=n;let a={indices:i,value:r};n.key&&(a.key=n.key.src),n.idx>-1&&(a.refIndex=n.idx),e.matches.push(a)})}function fs(s,e){e.score=s.score}function gs(s,e,{includeMatches:t=A.includeMatches,includeScore:n=A.includeScore}={}){const i=[];return t&&i.push(ds),n&&i.push(fs),s.map(r=>{const{idx:a}=r,l={item:e[a],refIndex:a};return i.length&&i.forEach(c=>{c(r,l)}),l})}class ee{constructor(e,t={},n){this.options={...A,...t},this.options.useExtendedSearch,this._keyStore=new Kt(this.options.keys),this.setCollection(e,n)}setCollection(e,t){if(this._docs=e,t&&!(t instanceof xe))throw new Error(wt);this._myIndex=t||Ye(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(e){w(e)&&(this._docs.push(e),this._myIndex.add(e))}remove(e=()=>!1){const t=[];for(let n=0,i=this._docs.length;n<i;n+=1){const r=this._docs[n];e(r,n)&&(this.removeAt(n),n-=1,i-=1,t.push(r))}return t}removeAt(e){this._docs.splice(e,1),this._myIndex.removeAt(e)}getIndex(){return this._myIndex}search(e,{limit:t=-1}={}){const{includeMatches:n,includeScore:i,shouldSort:r,sortFn:a,ignoreFieldNorm:l}=this.options;let c=R(e)?R(this._docs[0])?this._searchStringList(e):this._searchObjectList(e):this._searchLogical(e);return hs(c,{ignoreFieldNorm:l}),r&&c.sort(a),Ue(t)&&t>-1&&(c=c.slice(0,t)),gs(c,this._docs,{includeMatches:n,includeScore:i})}_searchStringList(e){const t=ye(e,this.options),{records:n}=this._myIndex,i=[];return n.forEach(({v:r,i:a,n:l})=>{if(!w(r))return;const{isMatch:c,score:u,indices:o}=t.searchIn(r);c&&i.push({item:r,idx:a,matches:[{score:u,value:r,norm:l,indices:o}]})}),i}_searchLogical(e){const t=Ze(e,this.options),n=(l,c,u)=>{if(!l.children){const{keyId:d,searcher:f}=l,y=this._findMatches({key:this._keyStore.get(d),value:this._myIndex.getValueForItemAtKeyId(c,d),searcher:f});return y&&y.length?[{idx:u,item:c,matches:y}]:[]}const o=[];for(let d=0,f=l.children.length;d<f;d+=1){const y=l.children[d],E=n(y,c,u);if(E.length)o.push(...E);else if(l.operator===le.AND)return[]}return o},i=this._myIndex.records,r={},a=[];return i.forEach(({$:l,i:c})=>{if(w(l)){let u=n(t,l,c);u.length&&(r[c]||(r[c]={idx:c,item:l,matches:[]},a.push(r[c])),u.forEach(({matches:o})=>{r[c].matches.push(...o)}))}}),a}_searchObjectList(e){const t=ye(e,this.options),{keys:n,records:i}=this._myIndex,r=[];return i.forEach(({$:a,i:l})=>{if(!w(a))return;let c=[];n.forEach((u,o)=>{c.push(...this._findMatches({key:u,value:a[o],searcher:t}))}),c.length&&r.push({idx:l,item:a,matches:c})}),r}_findMatches({key:e,value:t,searcher:n}){if(!w(t))return[];let i=[];if(z(t))t.forEach(({v:r,i:a,n:l})=>{if(!w(r))return;const{isMatch:c,score:u,indices:o}=n.searchIn(r);c&&i.push({score:u,key:e,value:r,idx:a,norm:l,indices:o})});else{const{v:r,n:a}=t,{isMatch:l,score:c,indices:u}=n.searchIn(r);l&&i.push({score:c,key:e,value:r,norm:a,indices:u})}return i}}ee.version="7.1.0";ee.createIndex=Ye;ee.parseIndex=Gt;ee.config=A;ee.parseQuery=Ze;us(os);function ps(s,e,t){const n=()=>{var a,l;return new ee((a=N(e))!=null?a:[],(l=N(t))==null?void 0:l.fuseOptions)},i=Oe(n());Be(()=>{var a;return(a=N(t))==null?void 0:a.fuseOptions},()=>{i.value=n()},{deep:!0}),Be(()=>N(e),a=>{i.value.setCollection(a)},{deep:!0});const r=Y(()=>{const a=N(t);if(a!=null&&a.matchAllWhenSearchEmpty&&!N(s))return N(e).map((c,u)=>({item:c,refIndex:u}));const l=a==null?void 0:a.resultLimit;return i.value.search(N(s),l?{limit:l}:void 0)});return{fuse:i,results:r}}function ms(s,e){let t="",n=0,i=!1;for(let r=s.length-1;r>=0;r--){if(s[r]===">")i=!0;else if(s[r]==="<"){i=!1,t=s[r]+t;continue}if(i||n++,n<=e)t=s[r]+t;else{t="..."+t;break}}return t}function we(s,e,t,n){var r;function i(a,l=[]){a=a||"";let c="",u=0;l.forEach(d=>{if(d.length===2&&d[0]===d[1])return;const f=d[1]+1,y=f-d[0]>=e.length;c+=[a.substring(u,d[0]),y&&"<mark>",a.substring(d[0],f),y&&"</mark>"].filter(Boolean).join(""),u=f}),c+=a.substring(u);const o=c.indexOf("<mark>");return o!==-1&&(c=ms(c,c.length-o)),c}if((r=s.matches)!=null&&r.length){for(const a of s.matches)if(!(t&&a.key!==t)&&!(n!=null&&n.includes(a.key)))return i(a.value,a.indices)}}const As={slots:{root:"flex flex-col min-h-0 min-w-0 divide-y divide-(--ui-border)",input:"[&>input]:h-12",close:"",content:"relative overflow-hidden flex flex-col",viewport:"relative divide-y divide-(--ui-border) scroll-py-1 overflow-y-auto flex-1 focus:outline-none",group:"p-1 isolate",empty:"py-6 text-center text-sm text-(--ui-text-muted)",label:"px-2 py-1.5 text-xs font-semibold text-(--ui-text-highlighted)",item:"group relative w-full flex items-center gap-2 px-2 py-1.5 text-sm select-none outline-none before:absolute before:z-[-1] before:inset-px before:rounded-[calc(var(--ui-radius)*1.5)] data-disabled:cursor-not-allowed data-disabled:opacity-75",itemLeadingIcon:"shrink-0 size-5",itemLeadingAvatar:"shrink-0",itemLeadingAvatarSize:"2xs",itemLeadingChip:"shrink-0 size-5",itemLeadingChipSize:"md",itemTrailing:"ms-auto inline-flex gap-1.5 items-center",itemTrailingIcon:"shrink-0 size-5",itemTrailingHighlightedIcon:"shrink-0 size-5 text-(--ui-text-dimmed) hidden group-data-highlighted:inline-flex",itemTrailingKbds:"hidden lg:inline-flex items-center shrink-0 gap-0.5",itemTrailingKbdsSize:"md",itemLabel:"truncate space-x-1 rtl:space-x-reverse text-(--ui-text-dimmed)",itemLabelBase:"text-(--ui-text-highlighted) [&>mark]:text-(--ui-bg) [&>mark]:bg-(--ui-primary)",itemLabelPrefix:"text-(--ui-text)",itemLabelSuffix:"text-(--ui-text-dimmed) [&>mark]:text-(--ui-bg) [&>mark]:bg-(--ui-primary)"},variants:{active:{true:{item:"text-(--ui-text-highlighted) before:bg-(--ui-bg-elevated)",itemLeadingIcon:"text-(--ui-text)"},false:{item:["text-(--ui-text) data-highlighted:text-(--ui-text-highlighted) data-highlighted:before:bg-(--ui-bg-elevated)/50","transition-colors before:transition-colors"],itemLeadingIcon:["text-(--ui-text-dimmed) group-data-highlighted:text-(--ui-text)","transition-colors"]}},loading:{true:{itemLeadingIcon:"animate-spin"}}}},ys=["innerHTML"],vs=["innerHTML"],Cs=He;var Te;const bs=Fe({extend:Fe(As),...((Te=Cs.ui)==null?void 0:Te.commandPalette)||{}}),xs=be({__name:"CommandPalette",props:ge({as:{},icon:{},selectedIcon:{},placeholder:{},autofocus:{type:Boolean,default:!0},close:{type:[Boolean,Object]},closeIcon:{},groups:{},fuse:{},labelKey:{default:"label"},class:{},ui:{},multiple:{type:Boolean},disabled:{type:Boolean},modelValue:{default:""},defaultValue:{},highlightOnHover:{type:Boolean},loading:{type:Boolean},loadingIcon:{}},{searchTerm:{default:""},searchTermModifiers:{}}),emits:ge(["update:modelValue","highlight","entryFocus","leave","update:open"],["update:searchTerm"]),setup(s,{emit:e}){const t=s,n=e,i=Re(),r=Ke(s,"searchTerm"),{t:a}=et(),l=Ne(),c=tt(Me(t,"as","disabled","multiple","modelValue","defaultValue","highlightOnHover"),n),u=st(Me(t,"loading","loadingIcon")),o=bs(),d=Y(()=>ze({},t.fuse,{fuseOptions:{ignoreLocation:!0,threshold:.1,keys:[t.labelKey,"suffix"]},resultLimit:12,matchAllWhenSearchEmpty:!0})),f=Y(()=>{var h;return((h=t.groups)==null?void 0:h.filter(g=>g.id?!g.ignoreFilter:(console.warn("[@nuxt/ui] CommandPalette group is missing an `id` property"),!1)).flatMap(g=>{var v;return((v=g.items)==null?void 0:v.map(x=>({...x,group:g.id})))||[]}))||[]}),{results:y}=ps(r,f,d);function E(h,g){return h!=null&&h.postFilter&&typeof h.postFilter=="function"&&(g=h.postFilter(r.value,g)),{...h,items:g.slice(0,d.value.resultLimit).map(v=>({...v,labelHtml:we(v,r.value,t.labelKey),suffixHtml:we(v,r.value,void 0,[t.labelKey])}))}}const M=Y(()=>{var x,B,I;const h=y.value.reduce((b,C)=>{var O,m;const{item:_,matches:S}=C;return _.group&&(b[O=_.group]||(b[O]=[]),(m=b[_.group])==null||m.push({..._,matches:S})),b},{}),g=Object.entries(h).map(([b,C])=>{var S;const _=(S=t.groups)==null?void 0:S.find(O=>O.id===b);if(_)return E(_,C)}).filter(b=>!!b);return(((I=(B=(x=t.groups)==null?void 0:x.map((b,C)=>({...b,index:C})))==null?void 0:B.filter(b=>{var C;return b.ignoreFilter&&((C=b.items)==null?void 0:C.length)}))==null?void 0:I.map(b=>({...E(b,b.items||[]),index:b.index})))||[]).reduce((b,C)=>(b.splice(C.index,0,C),b),[...g])});return(h,g)=>{var v;return F(),k(p(xt),K(p(c),{class:p(o).root({class:[t.class,(v=t.ui)==null?void 0:v.root]})}),{default:$(()=>{var x;return[W(p(Et),{modelValue:r.value,"onUpdate:modelValue":g[1]||(g[1]=B=>r.value=B),"as-child":""},{default:$(()=>{var B;return[W(nt,K({placeholder:h.placeholder||p(a)("commandPalette.placeholder"),variant:"none",autofocus:h.autofocus,size:"lg"},p(u),{icon:h.icon||p(l).ui.icons.search,class:p(o).input({class:(B=t.ui)==null?void 0:B.input})}),je({_:2},[h.close||i.close?{name:"trailing",fn:$(()=>[G(h.$slots,"close",{ui:p(o)},()=>{var I;return[h.close?(F(),k(it,K({key:0,icon:h.closeIcon||p(l).ui.icons.close,size:"md",color:"neutral",variant:"ghost","aria-label":p(a)("commandPalette.close")},typeof h.close=="object"?h.close:{},{class:p(o).close({class:(I=t.ui)==null?void 0:I.close}),onClick:g[0]||(g[0]=b=>n("update:open",!1))}),null,16,["icon","aria-label","class"])):q("",!0)]})]),key:"0"}:void 0]),1040,["placeholder","autofocus","icon","class"])]}),_:3},8,["modelValue"]),W(p(_t),{class:L(p(o).content({class:(x=t.ui)==null?void 0:x.content}))},{default:$(()=>{var B,I,b;return[(B=M.value)!=null&&B.length?(F(),V("div",{key:0,class:L(p(o).viewport({class:(I=t.ui)==null?void 0:I.viewport}))},[(F(!0),V(ce,null,oe(M.value,(C,_)=>{var S;return F(),k(p(Bt),{key:`group-${_}`,class:L(p(o).group({class:(S=t.ui)==null?void 0:S.group}))},{default:$(()=>{var O;return[p(ie)(C,t.labelKey)?(F(),k(p(St),{key:0,class:L(p(o).label({class:(O=t.ui)==null?void 0:O.label}))},{default:$(()=>[_e(he(p(ie)(C,t.labelKey)),1)]),_:2},1032,["class"])):q("",!0),(F(!0),V(ce,null,oe(C.items,(m,T)=>(F(),k(p(Mt),{key:`group-${_}-${T}`,value:p(rt)(m,["matches","group","onSelect","labelHtml","suffixHtml"]),disabled:m.disabled,"as-child":"",onSelect:m.onSelect},{default:$(()=>[W(at,K({ref_for:!0},p(ot)(m),{custom:""}),{default:$(({active:j,...D})=>{var J;return[W(ut,K({ref_for:!0},D,{class:p(o).item({class:(J=t.ui)==null?void 0:J.item,active:j||m.active})}),{default:$(()=>[G(h.$slots,m.slot||C.slot||"item",{item:m,index:T},()=>{var te,Ee;return[G(h.$slots,m.slot?`${m.slot}-leading`:C.slot?`${C.slot}-leading`:"item-leading",{item:m,index:T},()=>{var P,H,U,Z,ne,se;return[m.loading?(F(),k(re,{key:0,name:h.loadingIcon||p(l).ui.icons.loading,class:L(p(o).itemLeadingIcon({class:(P=t.ui)==null?void 0:P.itemLeadingIcon,loading:!0}))},null,8,["name","class"])):m.icon?(F(),k(re,{key:1,name:m.icon,class:L(p(o).itemLeadingIcon({class:(H=t.ui)==null?void 0:H.itemLeadingIcon,active:j||m.active}))},null,8,["name","class"])):m.avatar?(F(),k(lt,K({key:2,size:((U=t.ui)==null?void 0:U.itemLeadingAvatarSize)||p(o).itemLeadingAvatarSize(),ref_for:!0},m.avatar,{class:p(o).itemLeadingAvatar({class:(Z=t.ui)==null?void 0:Z.itemLeadingAvatar,active:j||m.active})}),null,16,["size","class"])):m.chip?(F(),k(Ct,K({key:3,size:((ne=t.ui)==null?void 0:ne.itemLeadingChipSize)||p(o).itemLeadingChipSize(),inset:"",standalone:"",ref_for:!0},m.chip,{class:p(o).itemLeadingChip({class:(se=t.ui)==null?void 0:se.itemLeadingChip,active:j||m.active})}),null,16,["size","class"])):q("",!0)]}),m.labelHtml||p(ie)(m,t.labelKey)||i[m.slot?`${m.slot}-label`:C.slot?`${C.slot}-label`:"item-label"]?(F(),V("span",{key:0,class:L(p(o).itemLabel({class:(te=t.ui)==null?void 0:te.itemLabel,active:j||m.active}))},[G(h.$slots,m.slot?`${m.slot}-label`:C.slot?`${C.slot}-label`:"item-label",{item:m,index:T},()=>{var P,H,U;return[m.prefix?(F(),V("span",{key:0,class:L(p(o).itemLabelPrefix({class:(P=t.ui)==null?void 0:P.itemLabelPrefix}))},he(m.prefix),3)):q("",!0),de("span",{class:L(p(o).itemLabelBase({class:(H=t.ui)==null?void 0:H.itemLabelBase,active:j||m.active})),innerHTML:m.labelHtml||p(ie)(m,t.labelKey)},null,10,ys),de("span",{class:L(p(o).itemLabelSuffix({class:(U=t.ui)==null?void 0:U.itemLabelSuffix,active:j||m.active})),innerHTML:m.suffixHtml||m.suffix},null,10,vs)]})],2)):q("",!0),de("span",{class:L(p(o).itemTrailing({class:(Ee=t.ui)==null?void 0:Ee.itemTrailing}))},[G(h.$slots,m.slot?`${m.slot}-trailing`:C.slot?`${C.slot}-trailing`:"item-trailing",{item:m,index:T},()=>{var P,H,U;return[(P=m.kbds)!=null&&P.length?(F(),V("span",{key:0,class:L(p(o).itemTrailingKbds({class:(H=t.ui)==null?void 0:H.itemTrailingKbds}))},[(F(!0),V(ce,null,oe(m.kbds,(Z,ne)=>{var se;return F(),k(ct,K({key:ne,size:((se=t.ui)==null?void 0:se.itemTrailingKbdsSize)||p(o).itemTrailingKbdsSize(),ref_for:!0},typeof Z=="string"?{value:Z}:Z),null,16,["size"])}),128))],2)):C.highlightedIcon?(F(),k(re,{key:1,name:C.highlightedIcon,class:L(p(o).itemTrailingHighlightedIcon({class:(U=t.ui)==null?void 0:U.itemTrailingHighlightedIcon}))},null,8,["name","class"])):q("",!0)]}),W(p(Ft),{"as-child":""},{default:$(()=>{var P;return[W(re,{name:h.selectedIcon||p(l).ui.icons.check,class:L(p(o).itemTrailingIcon({class:(P=t.ui)==null?void 0:P.itemTrailingIcon}))},null,8,["name","class"])]}),_:1})],2)]})]),_:2},1040,["class"])]}),_:2},1040)]),_:2},1032,["value","disabled","onSelect"]))),128))]}),_:2},1032,["class"])}),128))],2)):(F(),V("div",{key:1,class:L(p(o).empty({class:(b=t.ui)==null?void 0:b.empty}))},[G(h.$slots,"empty",{searchTerm:r.value},()=>[_e(he(r.value?p(a)("commandPalette.noMatch",{searchTerm:r.value}):p(a)("commandPalette.noData")),1)])],2))]}),_:3},8,["class"])]}),_:3},16,["class"])}}}),Es=Object.assign(xs,{__name:"UCommandPalette"}),Bs={slots:{modal:"sm:max-w-3xl sm:h-[28rem]"}},Ms=/^[^-]+.*-.*[^-]+$/,Fs=/^[^_]+.*_.*[^_]+$/;function _s(s,e={}){const t=Oe([]),n=()=>{t.value.splice(0,t.value.length)},i=ht(n,e.chainDelay??800),r=dt(),a=u=>{if(!u.key)return;const o=/^[a-z]{1}$/i.test(u.key);let d;if(t.value.push(u.key),t.value.length>=2){d=t.value.slice(-2).join("-");for(const f of c.value.filter(y=>y.chained))if(f.key===d){f.enabled&&(u.preventDefault(),f.handler(u)),n();return}}for(const f of c.value.filter(y=>!y.chained))if(u.key.toLowerCase()===f.key&&u.metaKey===f.metaKey&&u.ctrlKey===f.ctrlKey&&!(o&&u.shiftKey!==f.shiftKey)){f.enabled&&(u.preventDefault(),f.handler()),n();return}i()},l=Y(()=>{var f,y,E;const u=(f=r.value)==null?void 0:f.tagName,o=(y=r.value)==null?void 0:y.contentEditable;return u==="INPUT"||u==="TEXTAREA"||o==="true"||o==="plaintext-only"?((E=r.value)==null?void 0:E.name)||!0:!1}),c=Y(()=>Object.entries(N(s)).map(([u,o])=>{var E,M;if(!o)return null;let d;u.includes("-")&&u!=="-"&&!((E=u.match(Ms))!=null&&E.length)&&console.trace(`[Shortcut] Invalid key: "${u}"`),u.includes("_")&&u!=="_"&&!((M=u.match(Fs))!=null&&M.length)&&console.trace(`[Shortcut] Invalid key: "${u}"`);const f=u.includes("-")&&u!=="-";if(f)d={key:u.toLowerCase(),metaKey:!1,ctrlKey:!1,shiftKey:!1,altKey:!1};else{const h=u.toLowerCase().split("_").map(g=>g);d={key:h.filter(g=>!["meta","command","ctrl","shift","alt","option"].includes(g)).join("_"),metaKey:h.includes("meta")||h.includes("command"),ctrlKey:h.includes("ctrl"),shiftKey:h.includes("shift"),altKey:h.includes("alt")||h.includes("option")}}if(d.chained=f,typeof o=="function"?d.handler=o:typeof o=="object"&&(d={...d,handler:o.handler}),!d.handler)return console.trace("[Shortcut] Invalid value"),null;let y=!0;return o.usingInput?typeof o.usingInput=="string"&&(y=l.value===o.usingInput):y=!l.value,d.enabled=y,d}).filter(Boolean));return ft("keydown",a)}const Is=He;var Pe;const Ss=Ie({extend:Ie(Bs),...((Pe=Is.uiPro)==null?void 0:Pe.contentSearch)||{}}),Ls=be({__name:"ContentSearch",props:ge({icon:{},placeholder:{},loading:{type:Boolean},loadingIcon:{},shortcut:{default:"meta_k"},links:{},navigation:{},groups:{},files:{},fuse:{},colorMode:{type:Boolean,default:!0},class:{},ui:{}},{searchTerm:{default:""},searchTermModifiers:{}}),emits:["update:searchTerm"],setup(s){const e=s,t=Re(),n=Ke(s,"searchTerm"),i=Ne(),{open:r}=It(),a=gt(),{t:l}=pt(),c=Y(()=>ze({},e.fuse,{fuseOptions:{includeMatches:!0}})),u=Ss();function o(h){return h.flatMap(g=>{var v;return[{...g,suffix:g.description,icon:g.icon||i.ui.icons.file},...((v=g.children)==null?void 0:v.map(x=>({...x,prefix:g.label+" >",suffix:x.description,icon:x.icon||g.icon||i.ui.icons.file})))||[]]})}function d(h,g){return h.flatMap(v=>{var x,B,I;return(x=v.children)!=null&&x.length?d(v.children,v):((I=(B=e.files)==null?void 0:B.filter(b=>b.id===v.path||b.id.startsWith(`${v.path}#`)))==null?void 0:I.map(b=>f(b,v,g)))||[]})}function f(h,g,v){const x=[...new Set([v==null?void 0:v.title,...h.titles].filter(Boolean))];return{prefix:x!=null&&x.length?x.join(" > ")+" >":void 0,label:h.id===g.path?g.title:h.title,suffix:h.content.replaceAll("<","&lt;").replaceAll(">","&gt;"),to:h.id,icon:g.icon||(v==null?void 0:v.icon)||(h.level>1?i.ui.icons.hash:i.ui.icons.file),level:h.level}}const y=Y(()=>{var g,v;const h=[];return(g=e.links)!=null&&g.length&&h.push({id:"links",label:l("contentSearch.links"),items:o(e.links)}),(v=e.navigation)!=null&&v.length&&(e.navigation.some(x=>{var B;return!!((B=x.children)!=null&&B.length)})?h.push(...e.navigation.map(x=>({id:x.path,label:x.title,items:d(x.children||[]),postFilter:E}))):h.push({id:"docs",items:d(e.navigation),postFilter:E})),h.push(...e.groups||[]),e.colorMode&&!(a!=null&&a.forced)&&h.push({id:"theme",label:l("contentSearch.theme"),items:[{label:l("colorMode.system"),icon:i.ui.icons.system,active:a.preference==="system",onSelect:()=>{a.preference="system"}},{label:l("colorMode.light"),icon:i.ui.icons.light,active:a.preference==="light",onSelect:()=>{a.preference="light"}},{label:l("colorMode.dark"),icon:i.ui.icons.dark,active:a.preference==="dark",onSelect:()=>{a.preference="dark"}}]}),h});function E(h,g){return h?g:g==null?void 0:g.filter(v=>v.level===1)}function M(h){h.disabled||(r.value=!1,n.value="")}return e.shortcut+"",(h,g)=>{const v=Es,x=vt;return F(),k(x,{open:p(r),"onUpdate:open":g[2]||(g[2]=B=>yt(r)?r.value=B:null),class:L(p(u).modal({class:e.class}))},{content:$(()=>[W(v,{"search-term":n.value,"onUpdate:searchTerm":g[0]||(g[0]=B=>n.value=B),icon:h.icon,placeholder:h.placeholder,loading:h.loading,"loading-icon":h.loadingIcon,groups:y.value,fuse:c.value,close:"","onUpdate:modelValue":M,"onUpdate:open":g[1]||(g[1]=B=>r.value=B)},je({_:2},[oe(t,(B,I)=>({name:I,fn:$(b=>[G(h.$slots,I,mt(At(b)))])}))]),1032,["search-term","icon","placeholder","loading","loading-icon","groups","fuse"])]),_:3},8,["open","class"])}}}),Os=Object.assign(Ls,{__name:"UContentSearch"});export{Os as default};
